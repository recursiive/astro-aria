---
const { name, description, url, image, technologies = [] } = Astro.props;

// Function to get the icon path for a technology
function getTechIcon(tech: string): string {
  const techIcons: Record<string, string> = {
    'nextjs': '/assets/icons/technologies/nextjs.svg',
    'typescript': '/assets/icons/technologies/typescript.svg',
    'sql': '/assets/icons/technologies/sql.svg',
    'python': '/assets/icons/technologies/python.svg',
    'bash': '/assets/icons/technologies/bash.svg',
    'elastic': '/assets/icons/technologies/elastic.svg',
    'java': '/assets/icons/technologies/java.svg',
    'javascript': '/assets/icons/technologies/javascript.svg',
    'linux': '/assets/icons/technologies/linux.svg',
    'hackthebox': '/assets/icons/technologies/hackthebox.svg',
    'cyberdefenders': '/assets/icons/technologies/cyberdefenders.svg',
    'azure': '/assets/icons/technologies/azure.svg',
    'sentinel': '/assets/icons/technologies/sentinel.svg',
    'proxmox': '/assets/icons/technologies/proxmox.svg',
    'windows': '/assets/icons/technologies/windows.svg',
    'wireshark': '/assets/icons/technologies/Wireshark.svg'
  };
  
  return techIcons[tech.toLowerCase()] || '/assets/icons/technologies/default.svg';
}
---

<a
  href={url}
  target="_blank"
  class="relative flex flex-col items-stretch duration-300 ease-out p-7 sm:p-3 group h-100 glass-card liquid-glass"
>
  <span
    class="relative z-30 block duration-300 ease-out group-hover:-translate-y-1"
  >
    <span class="block w-full">
      <img src={image} class="w-full h-auto rounded-lg aspect-[16/9] object-cover" />
    </span>
    <span class="block w-full px-1 mt-5 mb-1 sm:mt-3">
      <span
        class="flex items-center mb-0 text-base font-semibold tracking-tight text-neutral-900 dark:text-neutral-100"
      >
        <span>{name}</span>
        <svg
          class="group-hover:translate-x-0 group-hover:translate-y-0 -rotate-45 translate-y-1 -translate-x-1 w-2.5 h-2.5 text-neutral-600 dark:text-neutral-400 ml-1 transition-all ease-in-out duration-200 transform"
          viewBox="0 0 13 15"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          ><g
            stroke="none"
            stroke-width="1"
            fill="none"
            fill-rule="evenodd"
            stroke-linecap="round"
            stroke-linejoin="round"
            ><g
              id="svg"
              transform="translate(0.666667, 2.333333)"
              stroke="currentColor"
              stroke-width="2.4"
              ><g
                ><polyline
                  class="transition-all duration-200 ease-out opacity-0 delay-0 group-hover:opacity-100"
                  points="5.33333333 0 10.8333333 5.5 5.33333333 11"
                ></polyline><line
                  class="transition-all duration-200 ease-out transform -translate-x-1 opacity-0 group-hover:translate-x-0 group-hover:opacity-100 group-hover:ml-0"
                  x1="10.8333333"
                  y1="5.5"
                  x2="0.833333333"
                  y2="5.16666667"></line></g
              ></g
            ></g
          ></svg
        >
      </span>
      <span class="text-sm text-neutral-600 dark:text-neutral-400 block truncate"
        >{description}</span
      >
      {technologies.length > 0 && (
        <div class="flex flex-wrap gap-2 mt-3">
          {technologies.map((tech: string) => (
            <img 
              src={getTechIcon(tech)} 
              alt={tech}
              title={tech}
              class="w-5 h-5 opacity-70 hover:opacity-100 transition-opacity duration-200"
            />
          ))}
        </div>
      )}
    </span>
  </span>
</a>
